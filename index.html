<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NeuroShield - Welcome</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap');

        body {
            font-family: 'Orbitron', sans-serif;
            background-color: #000000;
            color: #00ffcc; /* Neon Teal */
            overflow-x: hidden;
        }

        .matrix-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }

        .matrix-canvas {
            display: block;
            /* Minimalist pulsing glow effect added via canvas drawing */
        }

        .ai-face-canvas {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -60%); /* Adjust positioning */
            width: 300px; /* Adjust size */
            height: 300px;
            z-index: 10;
            /* border: 1px solid #00ffcc; */ /* For debugging */
        }

        /* Neon Glow Effects */
        .neon-text {
            text-shadow: 0 0 5px #00ffcc, 0 0 10px #00ffcc, 0 0 15px #00ffcc, 0 0 20px #0ff;
        }
        .neon-button {
            border: 2px solid #00ffcc;
            box-shadow: 0 0 10px #00ffcc, 0 0 20px #00ffcc inset;
            transition: all 0.3s ease;
            color: #00ffcc;
        }
        .neon-button:hover {
            background-color: #00ffcc;
            color: #000;
            box-shadow: 0 0 20px #00ffcc, 0 0 30px #00ffcc;
        }
        .neon-input {
            background-color: rgba(0, 50, 50, 0.3);
            border: 1px solid #00ffcc;
            color: #00ffcc;
            caret-color: #00ffcc;
            box-shadow: 0 0 5px #00ffcc inset;
        }
        .neon-input:focus {
            outline: none;
            border-color: #0ff;
            box-shadow: 0 0 10px #00ffcc, 0 0 5px #0ff inset;
        }
        .form-container {
            background-color: rgba(0, 10, 10, 0.8);
            border: 1px solid #005050;
            backdrop-filter: blur(5px);
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 0 20px rgba(0, 255, 204, 0.2);
        }
        /* Hide elements initially */
        .hidden-section {
            display: none;
        }
    </style>
</head>
<body class="relative min-h-screen flex items-center justify-center">

    <div class="matrix-bg">
        <canvas id="matrixCanvas" class="matrix-canvas"></canvas>
    </div>

    <div id="welcomeScreen" class="text-center z-20 p-8">
        <canvas id="aiFaceCanvas" class="ai-face-canvas"></canvas>

        <h1 class="text-5xl md:text-7xl font-bold neon-text mb-6 mt-40 md:mt-60">NeuroShield</h1>
        <p class="text-lg md:text-xl max-w-3xl mx-auto mb-10 text-cyan-300">
            AI-optimized cybersecurity defends in real-time against evolving threats powered by deep learning, phishing networks, and voice/video deepfakes.
        </p>
        <button id="enterButton" class="neon-button text-xl font-bold py-3 px-8 rounded transition duration-300 ease-in-out transform hover:scale-105">
            Enter NeuroShield â†’
        </button>
    </div>

    <div id="signupScreen" class="hidden-section z-20 w-full max-w-md">
        <div class="form-container">
            <h2 class="text-3xl font-bold neon-text mb-6 text-center">Create Account</h2>
            <form id="signupForm">
                <div class="mb-4">
                    <label for="signupFullName" class="block text-cyan-400 mb-2">Full Name</label>
                    <input type="text" id="signupFullName" name="fullName" required class="w-full px-4 py-2 neon-input rounded">
                </div>
                <div class="mb-4">
                    <label for="signupUsername" class="block text-cyan-400 mb-2">Username</label>
                    <input type="text" id="signupUsername" name="username" required class="w-full px-4 py-2 neon-input rounded">
                </div>
                <div class="mb-4">
                    <label for="signupEmail" class="block text-cyan-400 mb-2">Email</label>
                    <input type="email" id="signupEmail" name="email" required class="w-full px-4 py-2 neon-input rounded">
                </div>
                <div class="mb-6">
                    <label for="signupPassword" class="block text-cyan-400 mb-2">Password</label>
                    <input type="password" id="signupPassword" name="password" required class="w-full px-4 py-2 neon-input rounded">
                </div>
                 <p id="signupError" class="text-red-500 text-sm mb-4 hidden"></p>
                <button type="submit" class="w-full neon-button font-bold py-3 px-6 rounded transition duration-300 ease-in-out">
                    Sign Up
                </button>
            </form>
            <p class="mt-6 text-center text-cyan-500">
                Already have an account? <button id="showSignInButton" class="font-bold text-cyan-300 hover:text-cyan-100 underline">Sign In</button>
            </p>
        </div>
    </div>

    <div id="signInScreen" class="hidden-section z-20 w-full max-w-md">
         <div class="form-container">
            <h2 class="text-3xl font-bold neon-text mb-6 text-center">Sign In</h2>
            <form id="signInForm">
                <div class="mb-4">
                    <label for="signInUser" class="block text-cyan-400 mb-2">Username or Email</label>
                    <input type="text" id="signInUser" name="usernameOrEmail" required class="w-full px-4 py-2 neon-input rounded">
                </div>
                <div class="mb-6">
                    <label for="signInPassword" class="block text-cyan-400 mb-2">Password</label>
                    <input type="password" id="signInPassword" name="password" required class="w-full px-4 py-2 neon-input rounded">
                </div>
                 <p id="signInError" class="text-red-500 text-sm mb-4 hidden"></p>
                <button type="submit" class="w-full neon-button font-bold py-3 px-6 rounded transition duration-300 ease-in-out">
                    Sign In
                </button>
            </form>
            <p class="mt-6 text-center text-cyan-500">
                Need an account? <button id="showSignUpButton" class="font-bold text-cyan-300 hover:text-cyan-100 underline">Sign Up</button>
            </p>
        </div>
    </div>

    <script src="js/data.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/face.js"></script>
    <script src="js/script.js"></script>
    <script>
        // Initial setup specific to index.html
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize Matrix Background
            initMatrixBackground('matrixCanvas');

            // Initialize AI Face only on welcome screen
            if (document.getElementById('welcomeScreen').style.display !== 'none') {
                 initAIFace('aiFaceCanvas');
            }

             // --- Screen Switching Logic ---
            const welcomeScreen = document.getElementById('welcomeScreen');
            const signupScreen = document.getElementById('signupScreen');
            const signInScreen = document.getElementById('signInScreen');
            const aiFaceCanvas = document.getElementById('aiFaceCanvas');

            const enterButton = document.getElementById('enterButton');
            const showSignInButton = document.getElementById('showSignInButton');
            const showSignUpButton = document.getElementById('showSignUpButton');

            enterButton.addEventListener('click', () => {
                welcomeScreen.style.display = 'none';
                aiFaceCanvas.style.display = 'none'; // Hide face when leaving welcome
                stopAIFaceAnimation(); // Stop face animation loop
                signupScreen.style.display = 'block';
                signInScreen.style.display = 'none';
            });

            showSignInButton.addEventListener('click', () => {
                welcomeScreen.style.display = 'none';
                signupScreen.style.display = 'none';
                signInScreen.style.display = 'block';
                 stopAIFaceAnimation(); // Ensure face is stopped if somehow active
                 aiFaceCanvas.style.display = 'none';
            });

            showSignUpButton.addEventListener('click', () => {
                welcomeScreen.style.display = 'none';
                signInScreen.style.display = 'none';
                signupScreen.style.display = 'block';
                 stopAIFaceAnimation(); // Ensure face is stopped
                 aiFaceCanvas.style.display = 'none';
            });

            // --- Form Handling ---
            handleAuthForms(); // Initialize form listeners from auth.js
        });
    </script>
</body>
</html>
