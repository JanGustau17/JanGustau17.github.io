<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>GustauShield – Blog</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet"/>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { font-family: 'Poppins', sans-serif; background: #0a0a1a; color: #eee; padding-top: 64px; }
    nav { background: rgba(10,10,26,0.8); backdrop-filter: blur(8px); position: fixed; top: 0; width: 100%; z-index: 10; }
    main { max-width: 800px; margin: 0 auto; padding: 2rem 1rem; }
    #blog-image { width: 100%; max-height: 400px; object-fit: cover; margin-bottom: 1rem; }
    .meta { color: #999; font-size: 0.9rem; margin-bottom: 1.5rem; }
  </style>
</head>
<body>
  <nav class="py-3 px-5">
    <a href="index.html" class="text-cyber-cyan font-orbitron text-xl">← Home</a>
  </nav>

  <main>
    <h1 id="blog-title" class="text-3xl font-orbitron mb-2"></h1>
    <p id="blog-meta" class="meta"></p>
    <img id="blog-image" src="" alt="" />
    <div id="blog-content" class="prose prose-invert"></div>
  </main>

  <footer class="text-center text-sm text-gray-500 py-6">
    GustauShield Insights • AI Cybersecurity Analysis
  </footer>

  <!-- Your articles data -->
  <script type="module" src="js/blogs.js"></script>
  <!-- This script finds the right article and injects it -->
  <script type="module">
    import { ARTICLES } from './js/blogs.js';

    // 1. Get ?article=GUID
    const params = new URLSearchParams(location.search);
    const slug = params.get('article');

    // 2. Find it
    const article = ARTICLES.find(a => a.guid === slug) || {};

    // 3. Render
    document.getElementById('blog-title').textContent = article.title || 'Article not found';
    document.getElementById('blog-meta').textContent = 
      article.sourceName 
      ? `${article.sourceName} • ${new Date(article.pubDateStr).toLocaleDateString()} • by ${article.author}` 
      : '';
    if (article.imageUrl) {
      const img = document.getElementById('blog-image');
      img.src = article.imageUrl;
      img.alt = article.title;
    }
    document.getElementById('blog-content').innerHTML = article.mainContentHtml || '<p>Sorry, no content to display.</p>';
  </script>
</body>
</html>
